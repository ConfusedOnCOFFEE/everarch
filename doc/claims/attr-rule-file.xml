<?xml version="1.0" encoding="UTF-8"?>
<!--
    file-attr-rule.xml contains a attr-rule claim which transforms
    file claims into attr claims.
-->
<evr:attr-rule
    xmlns:evr="https://evr.ma300k.de/claims/"
    target-ns="https://evr.ma300k.de/claims/"
    target-name="file"
    >
  <xsl:stylesheet
      version="1.0"
      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:evr="https://evr.ma300k.de/claims/"
      xmlns:dc="http://purl.org/dc/terms/"
      >
    <xsl:output encoding="UTF-8"/>
    <xsl:template match="/evr:file">
      <evr:attr>
        <evr:a op="=" k="title" v="{@dc:title}"/>
        <evr:a op="=" k="size" v="{sum(evr:body/evr:slice/@size)}"/>
      </evr:attr>
    </xsl:template>
  </xsl:stylesheet>
</evr:attr-rule>
